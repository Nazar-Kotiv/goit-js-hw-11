{"version":3,"file":"commonHelpers.js","sources":["../src/js/main.js"],"sourcesContent":["\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst apiKey = \"41495993-e4e29dd1119c53de35b82b765\";\nconst searchForm = document.getElementById(\"search-form\");\nconst searchInput = document.getElementById(\"search-input\");\nconst gallery = document.getElementById(\"gallery\");\nconst loader = document.getElementById(\"loader\");\n\nsearchForm.addEventListener(\"submit\", handleSearch);\n\nfunction handleSearch(event) {\n  event.preventDefault();\n  const searchTerm = searchInput.value.trim();\n  if (searchTerm === \"\") {\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  fetchImages(searchTerm)\n    .then((data) => {\n      if (data.hits.length === 0) {\n        showError(\"Sorry, there are no images matching your search query. Please try again!\");\n      } else {\n        renderGallery(data.hits);\n        initLightbox();\n      }\n    })\n    .catch((error) => {\n      showError(\"An error occurred while fetching images. Please try again later.\");\n      console.error(\"Error fetching images:\", error);\n    })\n    .finally(() => {\n      hideLoader();\n    });\n}\n\nfunction fetchImages(query) {\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n  return fetch(url).then((response) => response.json());\n}\n\nfunction renderGallery(images) {\n  const galleryHTML = images\n    .map(\n      (image) => `\n        <a href=\"${image.largeImageURL}\" class=\"gallery-item\" data-lightbox=\"gallery\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n          <div class=\"info\">\n            <p>${image.likes} likes</p>\n            <p>${image.views} views</p>\n            <p>${image.comments} comments</p>\n            <p>${image.downloads} downloads</p>\n          </div>\n        </a>\n      `\n    )\n    .join(\"\");\n  gallery.innerHTML = galleryHTML;\n}\n\nfunction clearGallery() {\n  gallery.innerHTML = \"\";\n}\n\nfunction initLightbox() {\n  const lightbox = new SimpleLightbox(\".gallery a\");\n  lightbox.refresh();\n}\n\nfunction showLoader() {\n  loader.style.display = \"block\";\n}\n\nfunction hideLoader() {\n  loader.style.display = \"none\";\n}\n\nfunction showError(message) {\n  iziToast.error({\n    title: \"Error\",\n    message: message,\n    position: \"topCenter\",\n    timeout: 5000,\n  });\n}\n\n"],"names":["apiKey","searchForm","searchInput","gallery","loader","handleSearch","event","searchTerm","clearGallery","showLoader","fetchImages","data","showError","renderGallery","initLightbox","error","hideLoader","query","url","response","images","galleryHTML","image","SimpleLightbox","message","iziToast"],"mappings":"6vBAQA,MAAMA,EAAS,qCACTC,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAS,SAAS,eAAe,QAAQ,EAE/CH,EAAW,iBAAiB,SAAUI,CAAY,EAElD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAAaL,EAAY,MAAM,KAAI,EACrCK,IAAe,KAInBC,IACAC,IAEAC,EAAYH,CAAU,EACnB,KAAMI,GAAS,CACVA,EAAK,KAAK,SAAW,EACvBC,EAAU,0EAA0E,GAEpFC,EAAcF,EAAK,IAAI,EACvBG,IAER,CAAK,EACA,MAAOC,GAAU,CAChBH,EAAU,kEAAkE,EAC5E,QAAQ,MAAM,yBAA0BG,CAAK,CACnD,CAAK,EACA,QAAQ,IAAM,CACbC,GACN,CAAK,EACL,CAEA,SAASN,EAAYO,EAAO,CAC1B,MAAMC,EAAM,gCAAgClB,OAAYiB,4DACxD,OAAO,MAAMC,CAAG,EAAE,KAAMC,GAAaA,EAAS,KAAI,CAAE,CACtD,CAEA,SAASN,EAAcO,EAAQ,CAC7B,MAAMC,EAAcD,EACjB,IACEE,GAAU;AAAA,mBACEA,EAAM;AAAA,sBACHA,EAAM,sBAAsBA,EAAM;AAAA;AAAA,iBAEvCA,EAAM;AAAA,iBACNA,EAAM;AAAA,iBACNA,EAAM;AAAA,iBACNA,EAAM;AAAA;AAAA;AAAA,OAIlB,EACA,KAAK,EAAE,EACVnB,EAAQ,UAAYkB,CACtB,CAEA,SAASb,GAAe,CACtBL,EAAQ,UAAY,EACtB,CAEA,SAASW,GAAe,CACL,IAAIS,EAAe,YAAY,EACvC,QAAO,CAClB,CAEA,SAASd,GAAa,CACpBL,EAAO,MAAM,QAAU,OACzB,CAEA,SAASY,GAAa,CACpBZ,EAAO,MAAM,QAAU,MACzB,CAEA,SAASQ,EAAUY,EAAS,CAC1BC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,EACT,SAAU,YACV,QAAS,GACb,CAAG,CACH"}